CREATE TABLE paciente (
  id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  cpf VARCHAR2(11) NOT NULL UNIQUE,
  email VARCHAR2(255) NOT NULL,
  nome VARCHAR2(120) NOT NULL
);

CREATE TABLE medico (
  id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  crm VARCHAR2(30) NOT NULL UNIQUE,
  nome VARCHAR2(120) NOT NULL
);

CREATE TABLE consulta (
  id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  paciente_id NUMBER NOT NULL,
  medico_id NUMBER NOT NULL,
  status VARCHAR2(20) NOT NULL,
  data_hora TIMESTAMP NOT NULL,
  CONSTRAINT fk_consulta_paciente FOREIGN KEY (paciente_id) REFERENCES paciente(id),
  CONSTRAINT fk_consulta_medico FOREIGN KEY (medico_id) REFERENCES medico(id)
);